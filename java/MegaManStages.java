import greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)
import java.util.List;
import java.util.LinkedList;
/**
 * Write a description of class MegaManStages here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
public abstract class MegaManStages extends World
{

    private int xOffset = 0;
    private int yOffset = 0;

    private final static int SWIDTH  = 1400;
    private final static int SHEIGHT = 800;

    private final static int TWIDTH  = 50;
    private final static int THEIGHT = 50;

    private int WWIDTH;
    private int WHEIGHT;
    
    MegaMan mm;

    ScrollingActor[] bg = new ScrollingActor[14];
   
   /*
    * 
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------E-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI--------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI--------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI--------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI--------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI--------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI---------------WBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBU----------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI-----------WBBUAIKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK----------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI-----------KKKKAI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI-------WBBBBBBUAI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JI---------------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JIWBBBBU---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JIEEEEEE---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JILLLLLL---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JILLLLLL---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JIEEEEEE---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JILLLLLL---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JIEEEEEE---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JILLLLLL---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------JIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII------IIIIIIIIIIIIIJ",
        "JIEEEEEE---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "JILLLLLL---------AI---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "WBBBBBBBBBBBBBBBBBU---------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "KKKKKKKKKKKKKKKKKKK-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------E-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII------IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIL---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------LIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII------IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII-----J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------E---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------",
        "----------------------------------------------------------------------------------------------------I---------------------------------------------------------------------------------------------------L---------------------------------------------------------------------------------------------------J---------------------------------------------------------------------------------------------------"
    
   * 
    * 
    * 
    */
    public String[] STAGEDESIGN = {


    };
     private static final int DELAY = 200;  int bombDelayCounter = 0; // Controls the rate of bombs
 
    public MegaManStages()
    {    
        // Create a new world with 600x400 cells with a cell size of 1x1 pixels.
        super(SWIDTH, SHEIGHT , 1,false);
        
        setPaintOrder(Explosion.class,MegaManHealthBar.class,MegaManHealthBarPic.class,Fps.class,ChargingAnimation.class,MegaMan.class,Bullet.class,ZeroSlash.class,Projectile.class,Enemy.class,EnemyHitbox.class,EnemyAttackBox.class);
        mm = new MegaMan(5,0);
        addObject(new Fps(),100,20);
        addObject(mm,500,-100);
        addObject(mm.hit,mm.getX(),mm.getY());

        
    }
    
    public void act(){
        
    }

    public int getTWIDTH(){
        return TWIDTH;
    }
    
    public int getTHEIGHT(){
        return THEIGHT;
    }
    
    public int getSWIDTH(){
        return SWIDTH;
    }
    
    public int getSHEIGHT(){
        return SHEIGHT;
    }
    
    public int getWWIDTH(){
        return WWIDTH;
    }
    
    public int getWHEIGHT(){
        return WHEIGHT;
    }
    
    public void setWHEIGHT(int wheight){
        WHEIGHT = wheight;
    }
    
    public void setWWIDTH(int wwidth){
        WWIDTH = wwidth;
    }
    
    public void setStage(String[] stage){
        STAGEDESIGN = stage;
    }
    public int getXOffset(){
        return xOffset;
    }
    public int getYOffset(){
        return yOffset;
    }
    public int getRightXLimit(){
        return (SWIDTH - WWIDTH) + 100;
    }
    public int getBottomYLimit(){
        return (SHEIGHT - WHEIGHT) + 1000;
    }

    
    

    public void shiftWorld(int dx,int dy) {
        if((xOffset + dx) <= 0 && (xOffset + dx) >= SWIDTH - WWIDTH) {
            xOffset = xOffset + dx;

            shiftWorldActors(dx,0);
            
        }
        if((yOffset + dy) <= 0 && (yOffset + dy) >= SHEIGHT - WHEIGHT) {
            yOffset = yOffset + dy;
           
            shiftWorldActors(0,dy);
        }
    }
    

    private void shiftWorldActors(int dx, int dy){
      
        List<ScrollingActor> saList = getObjects(ScrollingActor.class);
        for(ScrollingActor actor: saList){
            if(actor instanceof DistantBackground){ 
                int nx = dx/3;
                int ny = dy/3;
                actor.setAbsoluteLocation(nx,ny);
            }
            else 
                actor.setAbsoluteLocation(dx,dy);
        }
        
        
    }
    
    
    
    
    public void createWorldFromTiles() {
        for(int i = 0; i < STAGEDESIGN.length; i++){
            for(int j = 0; j < WWIDTH/TWIDTH; j++) {

                    addActorAtTileLocation(STAGEDESIGN[i].charAt(j),j,i);
            }
            
        }

    }
    
    
    public abstract void addActorAtTileLocation(char c, int x, int y);
    
    public abstract void makeBG();
    
    public abstract void prepare();

    
}

























